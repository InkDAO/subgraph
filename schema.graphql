type Asset @entity(immutable: false) {
  id: Bytes!
  creator: Creator!
  contentCid: String!
  title: String!
  thumbnailCid: String!
  priceInWei: BigInt!
  createdAt: BigInt!
  totalSubscriber: BigInt!
  subscription: [Purchase!]! @derivedFrom(field: "asset")
}

type Creator @entity(immutable: false) {
  id: Bytes!
  assets: [Asset!]! @derivedFrom(field: "creator")
  totalAssets: BigInt!
  totalEarnings: BigInt!
  totalAssetWorth: BigInt!
  totalSubscribers: BigInt!
}

type Holder @entity(immutable: false) {
  id: Bytes!
  totalSpent: BigInt!
  totalPurchases: BigInt!
  subscription: [Purchase!]! @derivedFrom(field: "holder")
}

type Purchase @entity(immutable: true) {
  id: Bytes!
  asset: Asset!
  holder: Holder!
  subscribedAt: BigInt!
}

type GlobalStats @entity(immutable: false) {
  id: Bytes!
  totalAssets: BigInt!
  totalCreators: BigInt!
  totalUsers: BigInt!
  totalHolders: BigInt!
  totalPurchases: BigInt!
  totalVolume: BigInt!
  totalRevenue: BigInt!
  totalAssetWorth: BigInt!
}
